(this["webpackJsonpgoit-react-hw-03-image-finders"]=this["webpackJsonpgoit-react-hw-03-image-finders"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3HuUa",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1v_lK"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__ySODU",Modal:"Modal_Modal__2jXMl"}},14:function(e,t,a){e.exports={container:"Container_container__2XkSM"}},16:function(e,t,a){e.exports={Loader:"Loader_Loader__2KPUF"}},17:function(e,t,a){e.exports={message:"SerchErrorView_message__2p7A4"}},18:function(e,t,a){e.exports={Button:"Button_Button__2ngwG"}},24:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=(a(24),a(3)),l=a(4),i=a(6),u=a(5),m=a(19),h=a(14),d=a.n(h),g=a(1);var j=function(e){var t=e.children;return Object(g.jsx)("div",{className:d.a.container,children:t})},p=a(8),b=a.n(p),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:""},e.handleNameChange=function(t){e.setState({searchQuery:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.searchQuery.trim().toLowerCase()),e.setState({searchQuery:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsx)("header",{className:b.a.Searchbar,children:Object(g.jsxs)("form",{className:b.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(g.jsx)("button",{type:"submit",className:b.a.SearchFormButton,children:Object(g.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:b.a.SearchFormInput,type:"text",name:"searchQuery",value:this.state.searchQuery,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleNameChange})]})})}}]),a}(n.Component),y=a(13),O=a(9),v=a.n(O),_=a(11),S=a.n(_),x=a(12),I=a.n(x),w=document.querySelector("#modal-root"),C=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onKeyDown=function(t){"Escape"===t.key&&e.props.onCloseModal(t)},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onCloseModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(g.jsx)("div",{onClick:this.props.onCloseModal,className:I.a.Overlay,children:Object(g.jsx)("div",{className:I.a.Modal,children:Object(g.jsx)("img",{src:this.props.modalImg,alt:this.props.modalAlt})})}),w)}}]),a}(n.Component),F=C,M=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1,modalImg:"",modalAlt:""},e.onOpenModal=function(t){e.setState({modalImg:t.target.dataset.source,showModal:!0,modalAlt:t.target.attributes.alt.textContent})},e.onCloseModal=function(t){"IMG"!==t.target.nodeName&&e.setState({showModal:!1,modalImg:"",modalAlt:""})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.images,a=this.state,n=a.showModal,r=a.modalImg,o=a.modalAlt;return Object(g.jsxs)(g.Fragment,{children:[t.map((function(t){var a=t.id,n=t.webformatURL,r=t.tags,o=t.largeImageURL;return Object(g.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(g.jsx)("img",{onClick:e.onOpenModal,className:S.a.ImageGalleryItemImage,src:n,alt:r,"data-source":o})},a)})),n&&Object(g.jsx)(F,{onCloseModal:this.onCloseModal,modalImg:r,modalAlt:o})]})}}]),a}(r.a.Component),L=M,k=a(15),N=a.n(k),G=a(16),Q=a.n(G),B=function(){return Object(g.jsx)("div",{className:Q.a.Loader,children:Object(g.jsx)(N.a,{type:"Circles",color:"#00BFFF",height:80,width:80})})},A=a(2),D=a.n(A),K=a(17),U=a.n(K);function E(e){var t=e.message;return Object(g.jsxs)("p",{className:U.a.message,children:[" Search images ",t," not found"]})}E.protoType={message:D.a.string};var T=E,P=a(18),q=a.n(P),z=function(e){var t=e.onLoadMore;return Object(g.jsx)("button",{onClick:t,className:q.a.Button,type:"button",children:"Load more"})};function H(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22870491-0414a720e7578a2aeb94b7ded","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){if(e.ok)return e.json()})).then((function(e){return e}))}var J="idle",R="pending",V=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],error:null,status:J,page:1},e.onLoadMore=function(){var t=e.props.searchQuery,a=e.state.page;e.setState({status:"pending"}),H(t,a+1).then((function(t){return e.setState((function(e){return{images:[].concat(Object(y.a)(e.images),Object(y.a)(t.hits)),status:"resolved",page:e.page+1}}))})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.searchQuery,r=this.props.searchQuery;n!==r&&(this.setState({status:R}),H(r,1).then((function(e){return 0!==e.hits.length?a.setState({images:e.hits,status:"resolved",page:1}):a.setState({images:e.hits,status:"rejected"})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,n=this.props.searchQuery;return"idle"===a?Object(g.jsx)("div",{className:v.a.idle,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f."}):"pending"===a?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("ul",{className:v.a.ImageGallery,id:"imagesList",children:Object(g.jsx)(L,{images:t})}),Object(g.jsx)(B,{})]}):"rejected"===a?Object(g.jsx)(T,{message:n}):"resolved"===a?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("ul",{className:v.a.ImageGallery,id:"imagesList",children:Object(g.jsx)(L,{images:t})}),Object(g.jsx)(z,{onLoadMore:this.onLoadMore})]}):void 0}}]),a}(n.Component),W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:""},e.handleFormSubmit=function(t){e.setState({searchQuery:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(j,{children:[Object(g.jsx)(f,{onSubmit:this.handleFormSubmit}),Object(g.jsx)(V,{searchQuery:this.state.searchQuery}),Object(g.jsx)(m.a,{autoClose:3e3})]})}}]),a}(n.Component),X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(W,{})}),document.getElementById("root")),X()},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__NzDgc",SearchForm:"Searchbar_SearchForm__23GeF",SearchFormButton:"Searchbar_SearchFormButton__2V1gI",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3ZaYK",SearchFormInput:"Searchbar_SearchFormInput__1gImK"}},9:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1-oW0",idle:"ImageGallery_idle__1PhQM"}}},[[46,1,2]]]);
//# sourceMappingURL=main.44965342.chunk.js.map